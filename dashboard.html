<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Kelola Uang</title>
    <link rel="stylesheet" href="public/css/dashboard-style.css">
</head>
<body>
    <header class="header">
        <img src="public/asset/Logo-Icons.png" alt="Kelola Uang Logo" class="header__logo">
    </header>

    <main class="main-content">
        <div class="tip-container" aria-label="Tip keuangan">
            <p>Tip: Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad nisi cum qui eligendi, itaque pariatur
                voluptatibus praesentium recusandae quos adipisci deserunt perspiciatis porro impedit, id neque vitae
                odio. Nam, alias!</p>
        </div>

        <section class="statistics">
            <div class="stat-card income">
                <h3 class="stat-card__title">Pemasukan Bulan Ini</h3>
                <p class="stat-card__value">Rp 5.000.000</p>
                <div class="trend up">
                    <span class="material-symbols-outlined">trending_up</span>
                    <span>12% dari bulan lalu</span>
                </div>
            </div>
            <div class="stat-card expense">
                <h3 class="stat-card__title">Pengeluaran Bulan Ini</h3>
                <p class="stat-card__value">Rp 3.000.000</p>
                <div class="trend down">
                    <span class="material-symbols-outlined">trending_down</span>
                    <span>5% dari bulan lalu</span>
                </div>
            </div>
            <div class="stat-card">
                <h3 class="stat-card__title">Total Saldo</h3>
                <p class="stat-card__value">Rp 2.000.000</p>
                <div class="trend up">
                    <span class="material-symbols-outlined">trending_up</span>
                    <span>8% dari bulan lalu</span>
                </div>
            </div>
            <div class="stat-card">
                <h3 class="stat-card__title">Dana Darurat</h3>
                <p class="stat-card__value">Rp 2.000.000</p>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%"></div>
                    </div>
                    <span>65% dari target</span>    
                </div>
            </div>
        </section>

        <section class="content-area content-area--01">
            <div class="transactions">
                <h2 class="section-title">Transaksi Terakhir</h2>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon food">
                            <span class="material-icons">restaurant</span>
                        </div>
                        <div class="transaction-details">
                            <p class="transaction-category">Makanan</p>
                            <p class="transaction-time">Hari ini, 14:30</p>
                        </div>
                    </div>
                    <p class="transaction-amount expense">Rp. 500.000</p>
                </div>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon salary">
                            <span class="material-icons">payments</span>
                        </div>
                        <div class="transaction-details">
                            <p class="transaction-category">Gaji</p>
                            <p class="transaction-time">Kemarin, 09:15</p>
                        </div>
                    </div>
                    <p class="transaction-amount income">Rp. 5.000.000</p>
                </div>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon transport">
                            <span class="material-icons">directions_car</span>
                        </div>
                        <div class="transaction-details">
                            <p class="transaction-category">Transport</p>
                            <p class="transaction-time">15 Mei, 17:45</p>
                        </div>
                    </div>
                    <p class="transaction-amount expense">Rp. 150.000</p>
                </div>
            </div>

            <div class="menu-grid">
                <div class="menu-item" role="button" tabindex="0" aria-label="Tambah pemasukan">
                    <i class="material-icons menu-icon">account_balance_wallet</i>
                    <span class="menu-name">Pemasukan</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Tambah pengeluaran">
                    <i class="material-icons menu-icon">payments</i>
                    <span class="menu-name">Pengeluaran</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Pemasukan berulang">
                    <i class="material-icons menu-icon">autorenew</i>
                    <span class="menu-name">Pemasukan Berulang</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Pengeluaran berulang">
                    <i class="material-icons menu-icon">repeat</i>
                    <span class="menu-name">Pengeluaran Berulang</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Target keuangan">
                    <i class="material-icons menu-icon">flag</i>
                    <span class="menu-name">Target</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Dana darurat">
                    <i class="material-icons menu-icon">emergency</i>
                    <span class="menu-name">Dana Darurat</span>
                </div>
                <div class="menu-item" role="button" tabindex="0" aria-label="Laporan keuangan">
                    <i class="material-icons menu-icon">bar_chart</i>
                    <span class="menu-name">Laporan</span>
                </div>
            </div>
        </section>

        <section class="content-area content-area--02">
            <div class="charts">
                <div class="chart-card">
                    <div class="chart-header">Pemasukan dan Pengeluaran 30 Hari Terakhir</div>
                    <div class="chart-body">
                        <canvas id="statistic30days"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <div class="chart-header">Pemasukan dan Pengeluaran 6 Bulan Terakhir</div>
                    <div class="chart-body">
                        <canvas id="statistic6months"></canvas>
                    </div>
                </div>
            </div>

            <div class="transactions">
                <h2 class="section-title">Pengeluaran Terbesar</h2>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon food">
                            <i class="material-icons">shopping_cart</i>
                        </div>
                        <p class="transaction-category">Belanja Bulanan</p>
                    </div>
                    <p class="transaction-amount">Rp 1.200.000</p>
                </div>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon food">
                            <i class="material-icons">house</i>
                        </div>
                        <p class="transaction-category">Sewa Rumah</p>
                    </div>
                    <p class="transaction-amount">Rp 1.000.000</p>
                </div>
                <div class="transaction-card">
                    <div class="transaction-info">
                        <div class="category-icon food">
                            <i class="material-icons">two_wheeler</i>
                        </div>
                        <p class="transaction-category">Angsuran Motor</p>
                    </div>
                    <p class="transaction-amount">Rp 800.000</p>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.umd.min.js" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script src="public/js/chart-helper.js"></script>
    <script>
        function initCharts() {
            const cfg1 = {
                labels: ['Minggu 1', 'Minggu 2', 'Minggu 3', 'Minggu 4'],
                datasets: [
                    { label: 'Pemasukan', data: [10, 20, 30, 15], backgroundColor: 'rgba(31,119,180,0.6)', fill: true },
                    { label: 'Pengeluaran', data: [5, 25, 15, 10], backgroundColor: 'rgba(255,127,14,0.6)', fill: true }
                ]
            };
            
            const cfg2 = {
                labels: ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni'],
                datasets: [
                    { label: 'Pemasukan', data: [500, 700, 800, 600, 900, 750], backgroundColor: 'rgba(31,119,180,0.6)' },
                    { label: 'Pengeluaran', data: [300, 400, 500, 450, 600, 550], backgroundColor: 'rgba(255,127,14,0.6)' }
                ]
            };

            const g1 = createGraph('statistic30days', cfg1, {
                type: 'line',
                stacked: false,
                chartJsOptions: {
                    plugins: { legend: { display: true } },
                    elements: { line: { tension: 0.4 } },
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            grid: {
                                display: true
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            const g2 = createGraph('statistic6months', cfg2, { 
                type: 'bar', 
                stacked: false, 
                chartJsOptions: {
                    responsive: true,
                    maintainAspectRatio: false 
            } }
 
            );
            
            console.log('Charts initialized with data');
        }

        document.addEventListener('DOMContentLoaded', initCharts);
    </script>
</body>
</html>